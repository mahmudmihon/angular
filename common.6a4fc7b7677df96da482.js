(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{"6pWs":function(e,r,n){"use strict";n.d(r,"a",function(){return t});var o=n("tk/3");class t{constructor(){this.loginsUrl="api/logins",this.infoUrl="api/userInfos",this.httpOptions={headers:new o.e({"Content-Type":"application/json"})}}}},HcvH:function(e,r,n){"use strict";n.d(r,"a",function(){return m});var o=n("3Pt+"),t=n("fXoL"),i=n("ZNwO"),s=n("dNgK"),a=n("wZkO"),d=n("f0Cb"),l=n("ofXK");function c(e,r){if(1&e&&(t.Vb(0,"div"),t.Vb(1,"div",20),t.Vb(2,"p",21),t.Dc(3,"Full Name is required!"),t.Ub(),t.Ub(),t.Vb(4,"div",20),t.Vb(5,"p",21),t.Dc(6,"Full Name must contain FirstName & LastName & cann't contain any special character!"),t.Ub(),t.Ub(),t.Ub()),2&e){const e=t.gc();t.Eb(1),t.mc("hidden",!e.fullName.errors.required),t.Eb(3),t.mc("hidden",!e.fullName.errors.pattern)}}function b(e,r){if(1&e&&(t.Vb(0,"div"),t.Vb(1,"div",20),t.Vb(2,"p",21),t.Dc(3,"DOB is required!"),t.Ub(),t.Ub(),t.Ub()),2&e){const e=t.gc();t.Eb(1),t.mc("hidden",!e.dob.errors.required)}}function u(e,r){if(1&e&&(t.Vb(0,"div"),t.Vb(1,"div",20),t.Vb(2,"p",21),t.Dc(3,"Phone Number is required!"),t.Ub(),t.Ub(),t.Vb(4,"div",20),t.Vb(5,"p",21),t.Dc(6,"Invalid Phone Number!"),t.Ub(),t.Ub(),t.Ub()),2&e){const e=t.gc();t.Eb(1),t.mc("hidden",!e.phone.errors.required),t.Eb(3),t.mc("hidden",!e.phone.errors.pattern)}}function p(e,r){if(1&e&&(t.Vb(0,"div"),t.Vb(1,"div",20),t.Vb(2,"p",21),t.Dc(3,"Address is required!"),t.Ub(),t.Ub(),t.Ub()),2&e){const e=t.gc();t.Eb(1),t.mc("hidden",!e.address.errors.required)}}let m=(()=>{class e{constructor(e,r,n){this.profileService=e,this.formBuilder=r,this.snackBar=n,this.horizontalPosition="center",this.verticalPosition="bottom"}ngOnInit(){this.getUserInfoById()}getUserInfoById(){this.profileService.getUserInformationById(this.userId).subscribe(e=>{this.userInfo=e,console.log(this.userInfo),this.createInformationChangeForm()})}createInformationChangeForm(){this.informationChnageForm=this.formBuilder.group({fullName:[this.userInfo.fullName,[o.p.required,o.p.pattern("^[a-zA-Z]{2,} [a-zA-Z]{2,}$")]],gender:[this.userInfo.gender,[o.p.required]],dob:[this.userInfo.dob,[o.p.required]],phone:[this.userInfo.phone,[o.p.required,o.p.pattern("^01[0-9]{9}$")]],address:[this.userInfo.address,[o.p.required]]})}get fullName(){return this.informationChnageForm.get("fullName")}get gender(){return this.informationChnageForm.get("gender")}get dob(){return this.informationChnageForm.get("dob")}get phone(){return this.informationChnageForm.get("phone")}get address(){return this.informationChnageForm.get("address")}onInfoChangeSubmit(e){this.userInfo.fullName=e.fullName,this.userInfo.gender=e.gender,this.userInfo.dob=e.dob,this.userInfo.phone=e.phone,this.userInfo.address=e.address,console.log(this.userInfo),this.profileService.updateUserInformation(this.userInfo).subscribe(()=>{this.showInfoChangeConfirmation()})}showInfoChangeConfirmation(){this.snackBar.open("Information Updated!"," ",{duration:2500,horizontalPosition:this.horizontalPosition,verticalPosition:this.verticalPosition})}}return e.\u0275fac=function(r){return new(r||e)(t.Pb(i.a),t.Pb(o.d),t.Pb(s.a))},e.\u0275cmp=t.Jb({type:e,selectors:[["app-user-information"]],inputs:{userId:"userId"},decls:52,vars:15,consts:[["dynamicHeight","","mat-align-tabs","center"],["label","Information"],["label","Edit Information"],[1,"infoChange"],["novalidate","",3,"formGroup","ngSubmit"],["cform","ngForm"],[1,"form-group"],["type","text","name","fullName","formControlName","fullName","placeholder","FirstName LastName",1,"form-control","rounded-pill",3,"value"],[4,"ngIf"],["for","inlineFormCustomSelect",1,"mr-sm-2"],["id","inlineFormCustomSelect","name","gender","formControlName","gender",1,"custom-select","mr-sm-2","rounded-pill"],["value","Male","selected","userInfo.gender === 'Male'"],["value","Female","selected","userInfo.gender === 'Female'"],["for","formGroupExampleInput2"],["type","date","id","formGroupExampleInput2","name","dob","formControlName","dob",1,"form-control","rounded-pill"],["for","formGroupExampleInput3"],["type","tel","id","formGroupExampleInput3","name","phone","formControlName","phone","placeholder","Phone Number (01XXXXXXXXX)",1,"form-control","rounded-pill"],["for","address"],["id","address","name","address","formControlName","address",1,"form-control"],["type","submit",1,"btn","btn-primary","btn-lg","btn-block","rounded-pill",3,"disabled"],[3,"hidden"],[1,"text-danger","mt-1"]],template:function(e,r){if(1&e){const e=t.Wb();t.Vb(0,"mat-tab-group",0),t.Vb(1,"mat-tab",1),t.Vb(2,"p"),t.Dc(3),t.Ub(),t.Qb(4,"mat-divider"),t.Vb(5,"p"),t.Dc(6),t.Ub(),t.Qb(7,"mat-divider"),t.Vb(8,"p"),t.Dc(9),t.hc(10,"date"),t.Ub(),t.Qb(11,"mat-divider"),t.Vb(12,"p"),t.Dc(13),t.Ub(),t.Qb(14,"mat-divider"),t.Vb(15,"p"),t.Dc(16),t.Ub(),t.Ub(),t.Vb(17,"mat-tab",2),t.Vb(18,"div",3),t.Vb(19,"form",4,5),t.cc("ngSubmit",function(){t.uc(e);const n=t.sc(20);return r.onInfoChangeSubmit(n.value)}),t.Vb(21,"div",6),t.Vb(22,"label"),t.Dc(23,"Full Name"),t.Ub(),t.Qb(24,"input",7),t.Cc(25,c,7,2,"div",8),t.Ub(),t.Vb(26,"div",6),t.Vb(27,"label",9),t.Dc(28,"Gender"),t.Ub(),t.Vb(29,"select",10),t.Vb(30,"option",11),t.Dc(31,"Male"),t.Ub(),t.Vb(32,"option",12),t.Dc(33,"Female"),t.Ub(),t.Ub(),t.Ub(),t.Vb(34,"div",6),t.Vb(35,"label",13),t.Dc(36,"Date of Birth"),t.Ub(),t.Qb(37,"input",14),t.Cc(38,b,4,1,"div",8),t.Ub(),t.Vb(39,"div",6),t.Vb(40,"label",15),t.Dc(41,"Phone"),t.Ub(),t.Qb(42,"input",16),t.Cc(43,u,7,2,"div",8),t.Ub(),t.Vb(44,"div",6),t.Vb(45,"label",17),t.Dc(46,"Address"),t.Ub(),t.Qb(47,"textarea",18),t.Cc(48,p,4,1,"div",8),t.Ub(),t.Vb(49,"div",6),t.Vb(50,"button",19),t.Dc(51,"Update"),t.Ub(),t.Ub(),t.Ub(),t.Ub(),t.Ub(),t.Ub()}2&e&&(t.Eb(3),t.Fc("Name: ",r.userInfo.fullName,""),t.Eb(3),t.Fc("Gender: ",r.userInfo.gender,""),t.Eb(3),t.Fc("Date of Birth: ",t.jc(10,12,r.userInfo.dob,"mediumDate"),""),t.Eb(4),t.Fc("Phone: ",r.userInfo.phone,""),t.Eb(3),t.Fc("Address: ",r.userInfo.address,""),t.Eb(3),t.mc("formGroup",r.informationChnageForm),t.Eb(5),t.mc("value",r.userInfo.fullName),t.Eb(1),t.mc("ngIf",!(null!=r.fullName&&r.fullName.valid)&&((null==r.fullName?null:r.fullName.dirty)||(null==r.fullName?null:r.fullName.touched))),t.Eb(13),t.mc("ngIf",!(null!=r.dob&&r.dob.valid)&&((null==r.dob?null:r.dob.dirty)||(null==r.dob?null:r.dob.touched))),t.Eb(5),t.mc("ngIf",!(null!=r.phone&&r.phone.valid)&&((null==r.phone?null:r.phone.dirty)||(null==r.phone?null:r.phone.touched))),t.Eb(5),t.mc("ngIf",!(null!=r.address&&r.address.valid)&&((null==r.address?null:r.address.dirty)||(null==r.address?null:r.address.touched))),t.Eb(2),t.mc("disabled",!r.informationChnageForm.valid))},directives:[a.b,a.a,d.a,o.r,o.k,o.f,o.c,o.j,o.e,l.l,o.o,o.m,o.q],pipes:[l.e],styles:["p[_ngcontent-%COMP%]{font-size:25px;margin-top:25px;margin-bottom:20px}.infoChange[_ngcontent-%COMP%]{margin-top:15px;padding:15px}.infoChange[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:15px}"]}),e})()},ZNwO:function(e,r,n){"use strict";n.d(r,"a",function(){return d});var o=n("z6cu"),t=n("JIr8"),i=n("6pWs"),s=n("fXoL"),a=n("tk/3");let d=(()=>{class e extends i.a{constructor(e){super(),this.http=e}getUserInformationById(e){return this.http.get(`${this.infoUrl}/${e}`).pipe(Object(t.a)(e=>Object(o.a)(e)))}getUserLoginById(e){return this.http.get(`${this.loginsUrl}/${e}`).pipe(Object(t.a)(e=>Object(o.a)(e)))}updateUserLoginInfo(e){return this.http.put(""+this.loginsUrl,e,this.httpOptions).pipe(Object(t.a)(e=>Object(o.a)(e)))}updateUserInformation(e){return this.http.put(""+this.infoUrl,e,this.httpOptions).pipe(Object(t.a)(e=>Object(o.a)(e)))}}return e.\u0275fac=function(r){return new(r||e)(s.Zb(a.c))},e.\u0275prov=s.Lb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},ajio:function(e,r,n){"use strict";function o(e,r){return n=>{const o=n.controls[r];o.errors&&!o.errors.mustMatch||o.setErrors(n.controls[e].value!==o.value?{passwordMatch:!0}:null)}}n.d(r,"a",function(){return o})},mFvv:function(e,r,n){"use strict";n.d(r,"a",function(){return d});var o=n("fXoL"),t=n("tyNb"),i=n("ofXK");function s(e,r){1&e&&(o.Vb(0,"a",9),o.Dc(1,"Users"),o.Ub())}function a(e,r){1&e&&(o.Vb(0,"a",10),o.Dc(1,"Profile"),o.Ub())}let d=(()=>{class e{constructor(e){this.router=e}ngOnInit(){"admin"===sessionStorage.getItem("role")&&(this.isAdmin=!0)}signOut(){sessionStorage.clear(),this.router.navigate(["/"])}}return e.\u0275fac=function(r){return new(r||e)(o.Pb(t.b))},e.\u0275cmp=o.Jb({type:e,selectors:[["app-navigation"]],decls:10,vars:2,consts:[[1,"navbar","navbar-expand-lg","navbar-light"],[1,"container-fluid"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarNavAltMarkup","aria-controls","navbarNavAltMarkup","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarNavAltMarkup",1,"collapse","navbar-collapse","justify-content-end"],[1,"navbar-nav"],["class","nav-link btn btn-primary rounded-pill pl-3 pr-3","routerLink","./",4,"ngIf"],["class","nav-link btn btn-primary rounded-pill pl-3 pr-3","routerLink","./profile",4,"ngIf"],[1,"nav-link","btn","btn-primary","rounded-pill","pl-3","pr-3",3,"click"],["routerLink","./",1,"nav-link","btn","btn-primary","rounded-pill","pl-3","pr-3"],["routerLink","./profile",1,"nav-link","btn","btn-primary","rounded-pill","pl-3","pr-3"]],template:function(e,r){1&e&&(o.Vb(0,"nav",0),o.Vb(1,"div",1),o.Vb(2,"button",2),o.Qb(3,"span",3),o.Ub(),o.Vb(4,"div",4),o.Vb(5,"div",5),o.Cc(6,s,2,0,"a",6),o.Cc(7,a,2,0,"a",7),o.Vb(8,"a",8),o.cc("click",function(){return r.signOut()}),o.Dc(9,"Sign out"),o.Ub(),o.Ub(),o.Ub(),o.Ub(),o.Ub()),2&e&&(o.Eb(6),o.mc("ngIf",r.isAdmin),o.Eb(1),o.mc("ngIf",r.isAdmin))},directives:[i.l,t.d],styles:[".navbar-nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;margin-left:10px;margin-right:10px}"]}),e})()},oZoq:function(e,r,n){"use strict";n.d(r,"a",function(){return m});var o=n("3Pt+"),t=n("ajio"),i=n("fXoL"),s=n("ZNwO"),a=n("dNgK");let d=(()=>{class e{constructor(e){this.eleRef=e,e.nativeElement.style.width="700px"}}return e.\u0275fac=function(r){return new(r||e)(i.Pb(i.l))},e.\u0275dir=i.Kb({type:e,selectors:[["","CardSize",""]]}),e})();var l=n("ofXK"),c=n("HcvH");function b(e,r){if(1&e&&(i.Vb(0,"div"),i.Vb(1,"div",13),i.Vb(2,"p",14),i.Dc(3,"Password is required!"),i.Ub(),i.Ub(),i.Ub()),2&e){const e=i.gc();i.Eb(1),i.mc("hidden",!e.password.errors.required)}}function u(e,r){1&e&&(i.Vb(0,"div"),i.Vb(1,"p",14),i.Dc(2,"Password don't match!"),i.Ub(),i.Ub())}function p(e,r){if(1&e&&(i.Vb(0,"div"),i.Vb(1,"div",13),i.Vb(2,"p",14),i.Dc(3,"Confirm password is required!"),i.Ub(),i.Ub(),i.Cc(4,u,3,0,"div",8),i.Ub()),2&e){const e=i.gc();i.Eb(1),i.mc("hidden",!e.confirmPassword.errors.required),i.Eb(3),i.mc("ngIf",e.confirmPassword.errors.passwordMatch)}}let m=(()=>{class e{constructor(e,r,n){this.profileService=e,this.formBuilder=r,this._snackBar=n,this.horizontalPosition="center",this.verticalPosition="bottom",this.userId=parseInt(sessionStorage.getItem("id"))}ngOnInit(){this.getLoginInfoById(),this.getUserInfoById(),this.createPasswordChangeForm()}getLoginInfoById(){this.profileService.getUserLoginById(this.userId).subscribe(e=>{this.loginInfo=e})}getUserInfoById(){this.profileService.getUserInformationById(this.userId).subscribe(e=>{this.userInfo=e})}createPasswordChangeForm(){this.passwordChangeForm=this.formBuilder.group({password:["",[o.p.required]],confirmPassword:["",[o.p.required]]},{validator:Object(t.a)("password","confirmPassword")})}get password(){return this.passwordChangeForm.get("password")}get confirmPassword(){return this.passwordChangeForm.get("confirmPassword")}onChangeSubmit(e){this.loginInfo.password=e.confirmPassword,this.profileService.updateUserLoginInfo(this.loginInfo).subscribe(()=>{this.passwordChangeForm.reset(),this.showPassChangeConfirmation()})}showPassChangeConfirmation(){this._snackBar.open("Password Chnaged!"," ",{duration:2500,horizontalPosition:this.horizontalPosition,verticalPosition:this.verticalPosition})}}return e.\u0275fac=function(r){return new(r||e)(i.Pb(s.a),i.Pb(o.d),i.Pb(a.a))},e.\u0275cmp=i.Jb({type:e,selectors:[["app-user-profile"]],decls:18,vars:6,consts:[[1,"row"],["CardSize","",1,"card","offset-2","shadow","p-3","mb-5","bg-white","rounded","userImage"],["alt","Card image cap",1,"card-img-top","rounded-circle",3,"src"],["CardSize","",1,"card","offset-2","shadow","p-3","bg-white","rounded","passwordChange"],["novalidate","",3,"formGroup","ngSubmit"],["rform","ngForm"],[1,"col"],["type","password","name","password","formControlName","password","placeholder","New Password",1,"form-control","rounded-pill"],[4,"ngIf"],["type","password","name","confirmPassword","formControlName","confirmPassword","placeholder","Confirm Password",1,"form-control","rounded-pill"],["type","submit",1,"btn","btn-primary","btn-lg","btn-block","rounded-pill",3,"disabled"],["CardSize","",1,"card","offset-2","shadow","p-3","mb-5","bg-white","rounded","userInformation"],[3,"userId"],[3,"hidden"],[1,"text-danger","mt-1","font-weight-bold"]],template:function(e,r){if(1&e){const e=i.Wb();i.Vb(0,"div",0),i.Vb(1,"div",1),i.Qb(2,"img",2),i.Ub(),i.Vb(3,"div",3),i.Vb(4,"form",4,5),i.cc("ngSubmit",function(){i.uc(e);const n=i.sc(5);return r.onChangeSubmit(n.value)}),i.Vb(6,"div",0),i.Vb(7,"div",6),i.Qb(8,"input",7),i.Cc(9,b,4,1,"div",8),i.Ub(),i.Vb(10,"div",6),i.Qb(11,"input",9),i.Cc(12,p,5,2,"div",8),i.Ub(),i.Vb(13,"div",6),i.Vb(14,"button",10),i.Dc(15,"Change Password"),i.Ub(),i.Ub(),i.Ub(),i.Ub(),i.Ub(),i.Vb(16,"div",11),i.Qb(17,"app-user-information",12),i.Ub(),i.Ub()}2&e&&(i.Eb(2),i.nc("src",r.userInfo.profilePicture,i.vc),i.Eb(2),i.mc("formGroup",r.passwordChangeForm),i.Eb(5),i.mc("ngIf",!(null!=r.password&&r.password.valid)&&((null==r.password?null:r.password.dirty)||(null==r.password?null:r.password.touched))),i.Eb(3),i.mc("ngIf",!(null!=r.confirmPassword&&r.confirmPassword.valid)&&((null==r.confirmPassword?null:r.confirmPassword.dirty)||(null==r.confirmPassword?null:r.confirmPassword.touched))),i.Eb(2),i.mc("disabled",!r.passwordChangeForm.valid),i.Eb(3),i.mc("userId",r.userId))},directives:[d,o.r,o.k,o.f,o.c,o.j,o.e,l.l,c.a],styles:[".userImage[_ngcontent-%COMP%], .userInformation[_ngcontent-%COMP%]{margin-top:70px}.userImage[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:250px;margin:auto;padding-top:30px;padding-bottom:30px}.passwordChange[_ngcontent-%COMP%]{margin-top:25px}"]}),e})()}}]);